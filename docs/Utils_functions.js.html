<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Utils/functions.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Utils/functions.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {
    MOVIES_MODE,
    SERIES_MODE,
    MOVIES_DISCOVER_URL_PARTS,
    SERIES_DISCOVER_URL_PARTS, MOVIES_GET_DETAILS_URL_PARTS, SERIES_GET_DETAILS_URL_PARTS
} from "./constants";


/**
 * Takes url search parameters and corresponding API strings and generates request url via concatenation,
 * differentiating between movies and seres with the help of the mode parameter
 * @param {object} searchParams - Contains parameter parts of the url and operating mode (movies or series)
 * @param {object} SEARCH_URL_PARTS - Contains strings to prepend to parameter parts of the url
 * @returns {string} A concatenated string representing search url
 */

export function searchActionGenerateUrl(searchParams,SEARCH_URL_PARTS) {

    switch (searchParams.mode) {

        case MOVIES_MODE: {
            let url;
            const route = SEARCH_URL_PARTS.route
            const apiKey = SEARCH_URL_PARTS.apiPath + process.env.REACT_APP_API_KEY;
            const page = SEARCH_URL_PARTS.page + searchParams.page;
            const year = SEARCH_URL_PARTS.year + searchParams.year;
            const otherSettings = SEARCH_URL_PARTS.otherSettings;
            const query = SEARCH_URL_PARTS.query + searchParams.query;
            url = route + apiKey + page + year + otherSettings + query;
            return url
        }
        case SERIES_MODE: {
            let url;
            const route = SEARCH_URL_PARTS.route
            const page = SEARCH_URL_PARTS.page + searchParams.page;
            const apiKey = SEARCH_URL_PARTS.apiPath + process.env.REACT_APP_API_KEY;
            const year = SEARCH_URL_PARTS.year + searchParams.year;
            const otherSettings = SEARCH_URL_PARTS.otherSettings;
            const query = SEARCH_URL_PARTS.query + searchParams.query;
            url = route + apiKey + page + year + otherSettings + query;
            return url
        }
        default:
            break;

    }
}

export function discoverActionGenerateUrl(searchParams) {

    switch (searchParams.mode) {

        case MOVIES_MODE: {
            let url;
            const page = MOVIES_DISCOVER_URL_PARTS.page + searchParams.page;
            const year = MOVIES_DISCOVER_URL_PARTS.year + searchParams.year;
            const apiPath = MOVIES_DISCOVER_URL_PARTS.apiPath;
            const genres = MOVIES_DISCOVER_URL_PARTS.genres + searchParams.genres.toString();
            const filterCriterion = MOVIES_DISCOVER_URL_PARTS.filterCriterion + searchParams.filterCriterion
            url = MOVIES_DISCOVER_URL_PARTS.route + apiPath + process.env.REACT_APP_API_KEY + page + year + MOVIES_DISCOVER_URL_PARTS.otherSettings + genres + filterCriterion;
            return url
        }
        case SERIES_MODE: {
            let url;
            const page = SERIES_DISCOVER_URL_PARTS.page + searchParams.page;
            const year = SERIES_DISCOVER_URL_PARTS.year + searchParams.year;
            const apiPath = SERIES_DISCOVER_URL_PARTS.apiPath;
            const genres = SERIES_DISCOVER_URL_PARTS.genres + searchParams.genres.toString();
            const filterCriterion = SERIES_DISCOVER_URL_PARTS.filterCriterion + searchParams.filterCriterion
            url = SERIES_DISCOVER_URL_PARTS.route + apiPath + process.env.REACT_APP_API_KEY + page + year + MOVIES_DISCOVER_URL_PARTS.otherSettings + genres + filterCriterion;
            console.log(url)
            return url
        }
        default:
            break;

    }
}

export function getDetailsActionGenerateUrl(searchParams) {

    switch (searchParams.mode) {

        case MOVIES_MODE: {
            let url;
            const id = searchParams.id.toString() + '?';
            const apiPath = MOVIES_GET_DETAILS_URL_PARTS.apiPath;
            url = MOVIES_GET_DETAILS_URL_PARTS.route + id + apiPath + process.env.REACT_APP_API_KEY + MOVIES_GET_DETAILS_URL_PARTS.otherSettings;
            return url
        }
        case SERIES_MODE: {
            let url;
            const id = searchParams.id.toString() + '?';
            const apiPath = SERIES_GET_DETAILS_URL_PARTS.apiPath;
            url = SERIES_GET_DETAILS_URL_PARTS.route + id + apiPath + process.env.REACT_APP_API_KEY + SERIES_GET_DETAILS_URL_PARTS.otherSettings;
            return url
        }
        default:
            break;

    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#FAILURE">FAILURE</a></li><li><a href="global.html#filterCriteria">filterCriteria</a></li><li><a href="global.html#genresList">genresList</a></li><li><a href="global.html#getSearched">getSearched</a></li><li><a href="global.html#MOVIES_DISCOVER_URL_PARTS">MOVIES_DISCOVER_URL_PARTS</a></li><li><a href="global.html#MOVIES_GET_DETAILS_URL_PARTS">MOVIES_GET_DETAILS_URL_PARTS</a></li><li><a href="global.html#MOVIES_MODE">MOVIES_MODE</a></li><li><a href="global.html#MOVIES_SEARCH_URL_PARTS">MOVIES_SEARCH_URL_PARTS</a></li><li><a href="global.html#REQUEST">REQUEST</a></li><li><a href="global.html#searchActionGenerateUrl">searchActionGenerateUrl</a></li><li><a href="global.html#SERIES_DISCOVER_URL_PARTS">SERIES_DISCOVER_URL_PARTS</a></li><li><a href="global.html#SERIES_GET_DETAILS_URL_PARTS">SERIES_GET_DETAILS_URL_PARTS</a></li><li><a href="global.html#SERIES_MODE">SERIES_MODE</a></li><li><a href="global.html#SERIES_SEARCH_URL_PARTS">SERIES_SEARCH_URL_PARTS</a></li><li><a href="global.html#SUCCESS">SUCCESS</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Fri May 15 2020 16:55:12 GMT+0300 (GMT+03:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
